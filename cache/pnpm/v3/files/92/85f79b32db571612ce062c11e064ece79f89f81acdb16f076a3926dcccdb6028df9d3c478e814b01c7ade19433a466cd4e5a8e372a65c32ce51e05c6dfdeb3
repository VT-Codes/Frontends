const a4_0x2ad2=['recordMetric','RUNNER_FAILURE_PERF_ENTRY','done','__awaiter','error:\x20','axiosException','response','../../../utilities/environment','completeRunGroupWithError','agentName','runGroup','apiAxiosInstance','completeRunGroup','defineProperty','data','createMetricRecorder','axiosMultipleTries','post','apply','error','/nx-cloud/executions/complete-run-group','then','../../../utilities/axios','note','next','../../../utilities/metric-logger','../../../utilities/nx-imports','mapRespToPerfEntry','throw','Completing\x20run\x20group\x20with\x20an\x20error','Completed\x20run\x20group\x20with\x20an\x20error','VERBOSE_LOGGING','value','DistributedAgentApi'];(function(_0x1114cb,_0x2ad2f7){const _0x2eb0cc=function(_0x3b9c50){while(--_0x3b9c50){_0x1114cb['push'](_0x1114cb['shift']());}};_0x2eb0cc(++_0x2ad2f7);}(a4_0x2ad2,0xab));const a4_0x2eb0=function(_0x1114cb,_0x2ad2f7){_0x1114cb=_0x1114cb-0x0;let _0x2eb0cc=a4_0x2ad2[_0x1114cb];return _0x2eb0cc;};'use strict';var __awaiter=this&&this[a4_0x2eb0('0x2')]||function(_0x637d5f,_0x4ba6d0,_0x203b47,_0x38bf28){function _0x32751d(_0x312fe7){return _0x312fe7 instanceof _0x203b47?_0x312fe7:new _0x203b47(function(_0x2afa07){_0x2afa07(_0x312fe7);});}return new(_0x203b47||(_0x203b47=Promise))(function(_0x501139,_0x38e64d){function _0x19bd65(_0x37849d){try{_0x4f8c14(_0x38bf28['next'](_0x37849d));}catch(_0x4a7dc6){_0x38e64d(_0x4a7dc6);}}function _0x15bbcf(_0x31fa3e){try{_0x4f8c14(_0x38bf28[a4_0x2eb0('0x1b')](_0x31fa3e));}catch(_0x1a7252){_0x38e64d(_0x1a7252);}}function _0x4f8c14(_0x15c35e){_0x15c35e[a4_0x2eb0('0x1')]?_0x501139(_0x15c35e[a4_0x2eb0('0x1f')]):_0x32751d(_0x15c35e[a4_0x2eb0('0x1f')])[a4_0x2eb0('0x14')](_0x19bd65,_0x15bbcf);}_0x4f8c14((_0x38bf28=_0x38bf28[a4_0x2eb0('0x11')](_0x637d5f,_0x4ba6d0||[]))[a4_0x2eb0('0x17')]());});};Object[a4_0x2eb0('0xc')](exports,'__esModule',{'value':!![]});exports[a4_0x2eb0('0x20')]=void 0x0;const axios_1=require(a4_0x2eb0('0x15'));const environment_1=require(a4_0x2eb0('0x6'));const metric_logger_1=require(a4_0x2eb0('0x18'));const {output}=require(a4_0x2eb0('0x19'));class DistributedAgentApi{constructor(_0x25ff1c,_0x5d8b72,_0x2fcd77){this[a4_0x2eb0('0x9')]=_0x5d8b72;this[a4_0x2eb0('0x8')]=_0x2fcd77;this[a4_0x2eb0('0xa')]=(0x0,axios_1['createApiAxiosInstance'])(_0x25ff1c);}['tasks'](_0x42d900,_0x3c88a4,_0x201794){var _0x1a3911;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2b8e6f=(0x0,metric_logger_1[a4_0x2eb0('0xe')])('dtePollTasks');try{const _0x2cc01a=yield(0x0,axios_1[a4_0x2eb0('0xf')])(()=>this[a4_0x2eb0('0xa')]['post']('/nx-cloud/executions/tasks',{'runGroup':this[a4_0x2eb0('0x9')],'agentName':this[a4_0x2eb0('0x8')],'executionId':_0x42d900,'statusCode':_0x3c88a4,'completedTasks':_0x201794}));_0x2b8e6f['recordMetric']((0x0,metric_logger_1[a4_0x2eb0('0x1a')])(_0x2cc01a));return _0x2cc01a[a4_0x2eb0('0xd')];}catch(_0x5016a7){_0x2b8e6f[a4_0x2eb0('0x21')](((_0x1a3911=_0x5016a7===null||_0x5016a7===void 0x0?void 0x0:_0x5016a7[a4_0x2eb0('0x4')])===null||_0x1a3911===void 0x0?void 0x0:_0x1a3911[a4_0x2eb0('0x5')])?(0x0,metric_logger_1[a4_0x2eb0('0x1a')])(_0x5016a7[a4_0x2eb0('0x4')][a4_0x2eb0('0x5')]):metric_logger_1[a4_0x2eb0('0x0')]);throw _0x5016a7;}});}[a4_0x2eb0('0x7')](_0x87889d){var _0x55920d;return __awaiter(this,void 0x0,void 0x0,function*(){if(environment_1[a4_0x2eb0('0x1e')]){output[a4_0x2eb0('0x16')]({'title':a4_0x2eb0('0x1c'),'bodyLines':['runGroup:\x20'+this['runGroup'],a4_0x2eb0('0x3')+_0x87889d]});}const _0x4ecf7a=(0x0,metric_logger_1['createMetricRecorder'])(a4_0x2eb0('0xb'));try{const _0x58c6ed=yield(0x0,axios_1['axiosMultipleTries'])(()=>this['apiAxiosInstance'][a4_0x2eb0('0x10')](a4_0x2eb0('0x13'),{'runGroup':this[a4_0x2eb0('0x9')],'agentName':this['agentName'],'criticalErrorMessage':_0x87889d}));if(environment_1[a4_0x2eb0('0x1e')]){output[a4_0x2eb0('0x16')]({'title':a4_0x2eb0('0x1d')});}_0x4ecf7a[a4_0x2eb0('0x21')]((0x0,metric_logger_1[a4_0x2eb0('0x1a')])(_0x58c6ed));}catch(_0x59b4d5){_0x4ecf7a[a4_0x2eb0('0x21')](((_0x55920d=_0x59b4d5===null||_0x59b4d5===void 0x0?void 0x0:_0x59b4d5[a4_0x2eb0('0x4')])===null||_0x55920d===void 0x0?void 0x0:_0x55920d[a4_0x2eb0('0x5')])?(0x0,metric_logger_1['mapRespToPerfEntry'])(_0x59b4d5['axiosException'][a4_0x2eb0('0x5')]):metric_logger_1[a4_0x2eb0('0x0')]);console[a4_0x2eb0('0x12')](_0x59b4d5);}});}}exports['DistributedAgentApi']=DistributedAgentApi;