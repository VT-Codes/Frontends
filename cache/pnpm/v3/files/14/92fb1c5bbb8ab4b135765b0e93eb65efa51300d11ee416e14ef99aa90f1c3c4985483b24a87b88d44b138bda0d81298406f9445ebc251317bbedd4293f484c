const a0_0x4943=['hashDetails','MAX_CHARACTERS_CACHED_TASK','terminalOutput','slice','toISOString','local-cache','target','path','status','join','endCommand','configuration','tasks','.cache','node_modules','task','endTask','cacheStatus','MAX_CHARACTERS_FAILED_TASK','MAX_CHARACTERS_SUCCESSFUL_TASK','find','outputObfuscator','startsWith','cache-miss','__esModule','collectTerminalOutput','assign','keys','toString','cleanUpHashDetails','skipNxCache','../../../utilities/nx-imports','local-cache-kept-existing','cacheableOperations','code','cacheDirectory','hash','forEach','taskId','readFileSync','push','endTasks','statuses','updateStartedTask','length','obfuscate','project','defineProperty','params','remote-cache-hit','runContext','readTerminalOutputFile','endTime','overrides','scheduleTask','CloudEnabledLifeCycle','runtime','getTerminalOutput','Cannot\x20find\x20task\x20'];(function(_0x2b5b13,_0x494343){const _0x492782=function(_0xa5f977){while(--_0xa5f977){_0x2b5b13['push'](_0x2b5b13['shift']());}};_0x492782(++_0x494343);}(a0_0x4943,0x11a));const a0_0x4927=function(_0x2b5b13,_0x494343){_0x2b5b13=_0x2b5b13-0x0;let _0x492782=a0_0x4943[_0x2b5b13];return _0x492782;};'use strict';Object[a0_0x4927('0x1')](exports,a0_0x4927('0x25'),{'value':!![]});exports['CloudEnabledLifeCycle']=void 0x0;const path=require(a0_0x4927('0x14'));const path_1=require(a0_0x4927('0x14'));const fs_1=require('fs');const {appRootPath,unparse}=require(a0_0x4927('0x2c'));class CloudEnabledLifeCycle{constructor(_0x8f83c1,_0x2db733,_0x41384a,_0x30ea3f,_0x2d418f,_0x2d7c7d,_0x5e4d4f){this['runContext']=_0x8f83c1;this[a0_0x4927('0x30')]=_0x2db733;this['skipNxCache']=_0x41384a;this['collectTerminalOutput']=_0x30ea3f;this[a0_0x4927('0x2e')]=_0x2d418f;this[a0_0x4927('0x22')]=_0x2d7c7d;this[a0_0x4927('0x19')]=_0x5e4d4f;}[a0_0x4927('0x8')](_0x42ffe3){this['runContext']['scheduledTasks']['push'](_0x42ffe3);}['startTask'](_0x36bc28){const _0x24cbd8=Object[a0_0x4927('0x27')]({},_0x36bc28[a0_0x4927('0x7')]||{});if(_0x36bc28[a0_0x4927('0x13')][a0_0x4927('0x18')]){_0x24cbd8[a0_0x4927('0x18')]=_0x36bc28[a0_0x4927('0x13')][a0_0x4927('0x18')];}this[a0_0x4927('0x19')][a0_0x4927('0x35')]({'taskId':_0x36bc28['id'],'startTime':new Date()['toISOString'](),'target':_0x36bc28[a0_0x4927('0x13')][a0_0x4927('0x13')],'projectName':_0x36bc28[a0_0x4927('0x13')][a0_0x4927('0x0')],'hash':_0x36bc28[a0_0x4927('0x31')],'hashDetails':this[a0_0x4927('0x2a')](_0x36bc28[a0_0x4927('0xd')]),'params':unparse(_0x24cbd8)['join']('\x20')});}[a0_0x4927('0x1d')](_0x4b6a27,_0x3d0c58){let _0x1ad62b;if(this['runContext'][a0_0x4927('0x37')][_0x4b6a27[a0_0x4927('0x31')]]){_0x1ad62b=this[a0_0x4927('0x4')]['statuses'][_0x4b6a27[a0_0x4927('0x31')]];}else{if(this[a0_0x4927('0x2e')]['indexOf'](_0x4b6a27[a0_0x4927('0x13')][a0_0x4927('0x13')])>-0x1&&!this[a0_0x4927('0x2b')]){_0x1ad62b='local-cache-hit';}else{_0x1ad62b=a0_0x4927('0x24');}}this[a0_0x4927('0x38')](_0x4b6a27,_0x3d0c58,_0x1ad62b);}[a0_0x4927('0x36')](_0x4778e){for(let _0x3c44fc of _0x4778e){const _0x5c16f0=_0x3c44fc[a0_0x4927('0x15')]==='remote-cache'?a0_0x4927('0x3'):_0x3c44fc[a0_0x4927('0x15')]===a0_0x4927('0x12')||_0x3c44fc[a0_0x4927('0x15')]===a0_0x4927('0x2d')?'local-cache-hit':'cache-miss';this[a0_0x4927('0x38')](_0x3c44fc[a0_0x4927('0x1c')],_0x3c44fc[a0_0x4927('0x2f')],_0x5c16f0);}}[a0_0x4927('0x17')](){}[a0_0x4927('0x38')](_0x3bebfa,_0x10ffec,_0x1f59e1){const _0x1ee762=this[a0_0x4927('0x19')][a0_0x4927('0x21')](_0x2a5ad8=>_0x2a5ad8[a0_0x4927('0x33')]===_0x3bebfa['id']);if(!_0x1ee762){throw new Error(a0_0x4927('0xc')+_0x3bebfa['id']);}_0x1ee762[a0_0x4927('0x6')]=new Date()[a0_0x4927('0x11')]();_0x1ee762[a0_0x4927('0x15')]=_0x10ffec;_0x1ee762['params']=this[a0_0x4927('0x22')][a0_0x4927('0x3a')](_0x1ee762[a0_0x4927('0x2')]);_0x1ee762[a0_0x4927('0x1e')]=_0x1f59e1;if(this[a0_0x4927('0x26')]){_0x1ee762[a0_0x4927('0xf')]=this[a0_0x4927('0xb')](_0x3bebfa[a0_0x4927('0x31')],_0x1ee762['cacheStatus'],_0x10ffec);}}[a0_0x4927('0xb')](_0x4d8d41,_0x3f1d85,_0x14165d){let _0x25a150;if(this['cacheDirectory']){if(this[a0_0x4927('0x30')][a0_0x4927('0x23')]('./')){_0x25a150=(0x0,path_1[a0_0x4927('0x16')])(appRootPath,this[a0_0x4927('0x30')]);}else{_0x25a150=this[a0_0x4927('0x30')];}}else{_0x25a150=(0x0,path_1[a0_0x4927('0x16')])(appRootPath,a0_0x4927('0x1b'),a0_0x4927('0x1a'),'nx');}try{const _0x1651af=this[a0_0x4927('0x5')](_0x25a150,_0x4d8d41);const _0x5d7ae7=this[a0_0x4927('0x22')][a0_0x4927('0x3a')](_0x1651af);const _0x3f6345=_0x3f1d85===a0_0x4927('0x24')?_0x14165d===0x0?CloudEnabledLifeCycle['MAX_CHARACTERS_SUCCESSFUL_TASK']:CloudEnabledLifeCycle[a0_0x4927('0x1f')]:CloudEnabledLifeCycle['MAX_CHARACTERS_CACHED_TASK'];return _0x5d7ae7[a0_0x4927('0x39')]>_0x3f6345?'TRUNCATED\x0a\x0a'+_0x5d7ae7[a0_0x4927('0x10')](_0x5d7ae7[a0_0x4927('0x39')]-_0x3f6345):_0x5d7ae7;}catch(_0x13fbfe){return'';}}['cleanUpHashDetails'](_0x11cd02){const _0x5588b0={};Object[a0_0x4927('0x28')](_0x11cd02['nodes'])['filter'](_0x5d076e=>!_0x5d076e[a0_0x4927('0x23')]('npm:'))[a0_0x4927('0x32')](_0x433fc2=>{_0x5588b0[_0x433fc2]=_0x11cd02['nodes'][_0x433fc2];});return{'nodes':_0x5588b0,'runtime':_0x11cd02[a0_0x4927('0xa')],'implicitDeps':_0x11cd02['implicitDeps']};}['readTerminalOutputFile'](_0x57662b,_0x5cf4d4){try{return(0x0,fs_1['readFileSync'])(path[a0_0x4927('0x16')](_0x57662b,'terminalOutputs',_0x5cf4d4))[a0_0x4927('0x29')]();}catch(_0x331f64){try{return(0x0,fs_1[a0_0x4927('0x34')])(path['join'](_0x57662b,_0x5cf4d4,'terminalOutput'))[a0_0x4927('0x29')]();}catch(_0x2bff84){return'';}}}}exports[a0_0x4927('0x9')]=CloudEnabledLifeCycle;CloudEnabledLifeCycle[a0_0x4927('0x1f')]=0x30d40;CloudEnabledLifeCycle[a0_0x4927('0x20')]=0x4e20;CloudEnabledLifeCycle[a0_0x4927('0xe')]=0x1388;